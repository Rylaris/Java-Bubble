**查询某个泡泡糖左侧同色泡泡糖**

**1、任务描述：** 

检索游戏界面【完整泡泡糖集合】，找出【被点击】泡泡糖【左侧】相邻的【同色】泡泡糖。

1-1. 从【被点击】的泡泡糖s1开始，查找左边一格是否存在与s1【同色】的泡泡糖s2。

1-1.1. 如果有，则从s2开始查找左边一格是否存在和s2【同色】的泡泡糖s3，以此类推。

1-1.2. 找到【同色】泡泡糖后将其视作“待消除泡泡糖”，经【克隆】后保存于“待消除泡泡糖”

​          集合（StarList）中。

1-1.3. 如果无，则停止【同色】泡泡糖查找操作。

1-1.4. 如果超出10 * 10泡泡糖矩阵的左侧边界（列号小于0），则停止【同色】泡泡糖查找操作。

1-1.5. 实现流程见下图（黄色为【被点击】泡泡糖；蓝色为【左侧同色】泡泡糖）。

![图片1.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160317/1458195800867081558.png) 

图 7-1

1-2. lookupByPath函数负责业务流程的实现，该函数共包含三个参数，他们的含义分别为：

1-2.1. Star base：界面被点击的泡泡糖（左侧同色泡泡糖判断基准对象）。

1-2.2. StarList sList：界面【完整的泡泡糖列表】（10 * 10的泡泡糖矩阵）。

1-2.3. StarList clearStars：【待消除的泡泡糖集合】。



**2、推荐步骤：** 

2-1. 场景定位：

2-1.1. 找到业务类：cn.campsg.practical.bubble.service.StarServiceImpl。

2-1.2. 定位到方法lookupByPath的任务2注释处。

2-2. 获取lookupByPath函数的泡泡糖参数base的信息

2-2.1. 获取行号。

2-2.2. 获取列号。

2-2.3. 获取类型。

2-3. 新建一个用于保存【同色】泡泡糖的Star对象。

2-4. 开始判断【被点击】泡泡糖左侧的【同色】泡泡糖（按图7-2流程实现）。

![图片2.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160317/1458195806344017844.png) 

图 7-2



2-5. 在当前类中，实现接口的tobeClearedStars方法

2-5.1. 新建一个StarList对象，用于存放所有“待消除泡泡糖”。

2-5.2. 由于【被点击】的泡泡糖必属于“待消除泡泡糖”，因此请把base参数添加到待消除列表

​          中。

2-5.3. 执行lookupByPath方法，以【被点击】的泡泡糖为基准，查找该泡泡糖左侧是否存在【同

​          色】的泡泡糖。

2-5.4. 如执行完lookupByPath方法后，“待消除泡泡糖”列表中仍然只有一个泡泡糖，则表示查询

​          过程未发现任何【同色】泡泡糖，则清空“待消除泡泡糖”列表。



2-5.5 返回待消除列表。

**3、验证与测试：** 

3-1. 定位函数入口所在类：cn.campsg.practical.bubble.MainClass，并运行项目工程。

3-2. 当前项目已提供了测试用泡泡糖矩阵。

3-3. 点击界面指定的泡泡糖，观察是否能消除【被点击】泡泡糖左侧的对象，如图所示：

![图片3.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160317/1458195824315050246.png) 

​                                                                              图 7-3
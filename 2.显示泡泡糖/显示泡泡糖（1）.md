# 显示泡泡糖1

## 创建消灭泡泡糖实体类

### 下载环境工程包：`PRJ_BU2_JAVA_001.rar`

本场景需要实现在游戏界面上呈现5个不同颜色的泡泡糖，泡泡糖的位置由坐标值决定。

### 任务描述：

1. 为游戏《消灭泡泡糖》创建实体类`Star`，以此描述游戏中的一个泡泡糖。

2. 每个泡泡糖有两个重要属性，分别为：

   1. 坐标，坐标以行（row）和列（column）描述泡泡糖的位置，坐标规则如下：

      * 左上角泡泡糖坐标（0,0），右上角泡泡糖坐标（0,9）。

      * 左下角泡泡糖坐标（9,0），右下角泡泡糖坐标（9,9）。

      * 其他泡泡糖以此类推。

        ![图片3.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458182118079076908.png)

   2. 类型：类型用来定义泡泡糖的外观，分为以下5种：黄色圆圈、红色心形、绿色圆角、紫色五角星、蓝色空心圆

      ![图片4.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458182124884069205.png)

---

### 实现思路：

![图片1.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458180775236060931.png)

从该图可以看出，我们需要创建5个泡泡糖，并以斜角方式显示在游戏界面上，因此我们需要通过一个函数动态创建5个泡泡糖对象，并通过泡泡糖坐标来控制泡泡的显示位置。完成后，所有被创建的泡泡糖需要传递给游戏界面，游戏界面负责呈现。
在本场景中，我们使用Star类描述泡泡糖，每个在界面上显示的泡泡糖都是Star类的对象。
核心组件介绍：![图片2.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458180799981086709.png)

1. `MainForm` - 游戏界面类（本场景无需实现）：负责游戏数据显示、响应用户在界面上的各类操作。
2. `StarServiceImpl` - 游戏业务类：负责游戏相关逻辑计算，例如：泡泡糖移动、消除、得分计算等业务操作。
3. `StarList`- 泡泡糖集合：用于保存所有待显示的泡泡糖。保存在`StarList`中的数据由`StarServiceImpl`负责创建、删除、编辑、变更，而游戏界面根据`StarList`中的数据显示不同的效果。
4. `StarServiceImpl` 类中的`createStars`：本场景，我们利用`StarServiceImpl`的`createStars`函数创建5个颜色不同的泡泡糖，每个泡泡糖都是`Star`类的一个实例，所有被创建的泡泡糖都保存在`StarList`之中，游戏主界面`MainForm`负责读取`StarList`中的泡泡糖对象，并呈现给用户。

---

### 推荐步骤：

1. 定位项目包：`cn.campsg.practical.bubble.entity`。

2. 创建实体类`Position`，`Position`用于描述泡泡糖在界面上的坐标。

3. 为`Position`增加如下属性：

   1. `row`成员变量 – 整数类型。
   2. `column`成员变量 – 整数类型。
   3. 为成员变量添加`get`与`set`访问器。

4. 创建实体类 `Star`，用于描述界面上的一个泡泡糖。

5. 为泡泡糖`Star`类创建“类型”属性，属性类型为枚举型：

   1. `Star`类中，创建枚举类型：`StarType`。

   2. 为枚举创建属性：`value`成员变量 – 整数类型，用于保存枚举值。

   3. 为枚举增加构造函数，构造函数需对`value`赋值。

   4. `StarType`枚举具有以下枚举值：

      * 0 - BLUE

      * 1 - GREEN

      * 2 - YELLOW

      * 3 - RED

      * 4 – PURPLE

   5. 实现【枚举值】向【数值】转换（`BLUE -> 0`）。

   6. 为`StarType`枚举添加公共函数`value`，返回类型为整型。

   7. 在`value`函数中，返回枚举值对应的整型数值。

      > Tips:
      >
      > 1. 枚举的构造函数必须是私有的（`private`）。
      > 2. 枚举构造函数需要对内部成员变量赋值，保证例如：`BLUE(0)`的形式合法。
      > 3. `value`方法是枚举类型的功能函数，因此无需设置为静态。
      > 4. `value`用于返回特定枚举值对应的数值，因此无需入参。
      > 5. `value`成员变量用于保存枚举数值，在`value`函数中要善加利用。

6. 为Star实体类增加如下属性：

   1. `position`成员变量 – `Position`类型。
   2. `type`成员变量 – `StarType`类型。
   3. 为成员变量添加`get`与`set`访问器。

7. 为`Position`创建两个构造函数：

   1. 创建两参构造函数，第一参`row`，第二参数`column`。
   2. 通过两参构造函数对`Position`的成员变量赋值。
   3. 创建0参构造函数，该构造函数无任何操作。

8. 为`Star`创建两个构造函数：

   1. 创建两参构造函数，第一参`Position`，第二参数`StarType`。
   2. 通过两参构造函数对`Star`的成员变量赋值。
   3. 创建0参构造函数，要求实例化`Position`变量，`type`默认值为`BLUE`。

---

### 验证与测试：

1. 定位：`cn.campsg.practical.bubble.service. StarServiceImpl`。
2. 找到：`public StarList createStars()`函数。
3. 编写以下测试语句：
   1. 创建`Star`类的对象`star1`：
      1. 利用`setPosition`函数为`Star`赋值`(0,0)`位置坐标，使用`Position`构造函数赋值。
      2. 利用`setType`函数为`Star`复制泡泡糖类型：`BLUE`。
   2. 创建`Star`类的对象`star2`：
      1. `star2`的创建必须利用`Star`构造函数完成，不得使用任何`set`方法。
      2. `star2`的数据为`(1,1)`位置坐标，类型：`GREEN`。
4. 打印测试结果：
   1. 利用Java打印语句分别显示`star1`和`star2`的属性值。
   2. 运行项目，选择`cn.campsg.practical.bubble.MainClass`类。
   3. 控制台输出结果与下图一致：

![图片5.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458182136440032009.png)


# 显示泡泡糖1

## 创建消灭泡泡糖实体类

### 下载环境工程包：`PRJ_BU2_JAVA_001.rar`

本场景需要实现在游戏界面上呈现5个不同颜色的泡泡糖，泡泡糖的位置由坐标值决定。

### 实现思路：

![图片1.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458180775236060931.png)

       图 4-1
       从图4-1可见，我们需要创建5个泡泡糖，并以斜角方式显示在游戏界面上，因此我们需要通过一个函
数动态创建5个泡泡糖对象，并通过泡泡糖坐标来控制泡泡的显示位置。完成后，所有被创建的泡泡糖需要
传递给游戏界面，游戏界面负责呈现。
在本场景中，我们使用Star类描述泡泡糖，每个在界面上显示的泡泡糖都是Star类的对象。
核心组件介绍：

![图片2.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458180799981086709.png)

图 4-2
3-1. MainForm - 游戏界面类（本场景无需实现）：
负责游戏数据显示、响应用户在界面上的各类操作。
3-2. StarServiceImpl - 游戏业务类：
负责游戏相关逻辑计算，例如：泡泡糖移动、消除、得分计算等业务操作。
3-3. StarList - 泡泡糖集合：
       用于保存所有待显示的泡泡糖。
       保存在StarList中的数据由StarServiceImpl负责创建、删除、编辑、变更，而游戏界面根StarList
中的数据显示不同的效果。
3-4. StarServiceImpl 类中的createStars：
       本场景，我们利用StarServiceImpl的createStars函数创建5个颜色不同的泡泡糖，每个泡泡糖都
是Star类的一个实例，所有被创建的泡泡糖都保存在StarList之中，游戏主界面MainForm负责读取
StarList中的泡泡糖对象，并呈现给用户。
了解更多：
请参考《消灭泡泡糖 - 需求说明文档》。
前置条件：
5-1. 前置场景：PRJ-BU2-JAVA-001 - 泡泡糖体验。
5-2. 必备知识与技能：
5-2.1 Java开发工具 （Eclipse）。
5-2.2 Java基本语法（变量、变量类型、条件分支语句、运算符、数组）。
1、任务描述： 
1-1. 为游戏《消灭泡泡糖》创建实体类 – Star，以此描述游戏中的一个泡泡糖。
1-2. 每个泡泡糖有两个重要属性，分别为：
1-2.1. 坐标：坐标以行（row）和列（column）描述泡泡糖的位置，坐标规则如下：
1） 左上角泡泡糖坐标（0,0），右上角泡泡糖坐标（0,9）。
2）左下角泡泡糖坐标（9,0），右下角泡泡糖坐标（9,9）。
3）其他泡泡糖以此类推。

![图片3.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458182118079076908.png)

图 6-1
1-2.2. 类型：类型用来定义泡泡糖的外观，分为以下5种：
黄色圆圈、红色心形、绿色圆角、紫色五角星、蓝色空心圆

![图片4.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458182124884069205.png)

图 6-2
2、推荐步骤： 
2-1. 定位项目包：cn.campsg.practical.bubble.entity。
2-2. 创建实体类Position，Position用于描述泡泡糖在界面上的坐标。
2-3. 为Position增加如下属性：
2-3.1. row成员变量 – 整数类型。
2-3.2. column成员变量 – 整数类型。
2-3.3. 为成员变量添加get与set访问器。
+ 提示：

1） 枚举的构造函数必须是私有的（private）。
2） 枚举构造函数需要对内部成员变量赋值，保证例如：BLUE(0)的形式合法。
3） 单击右键，选择Source -- Generate Getters and Setters。
2-4. 创建实体类 Star，用于描述界面上的一个泡泡糖。
2-5. 为泡泡糖Star类创建“类型”属性，属性类型为枚举型：
2-5.1. Star类中，创建枚举类型：StarType。
2-5.2. 为枚举创建属性：value成员变量 – 整数类型，用于保存枚举值。
2-5.3. 为枚举增加构造函数，构造函数需对value赋值。
+ 提示：

1）  枚举的构造函数必须是私有的（private）。
2）  枚举构造函数需要对内部成员变量赋值，保证例如：BLUE(0)的形式合法。
3-5.4. StarType枚举具有以下枚举值：
1)  0 - BLUE
2)  1 - GREEN
3)  2 - YELLOW
4)  3 - RED
5)  4 – PURPLE
2-5.5. 实现【枚举值】向【数值】转换（BLUE -> 0）。
1)  为StarType枚举添加公共函数value，返回类型为整型。
2)  在value函数中，返回枚举值对应的整型数值。
+ 提示：

1） value方法是枚举类型的功能函数，因此无需设置为静态。
2） value用于返回特定枚举值对应的数值，因此无需入参。
3） value成员变量用于保存枚举数值，在value函数中要善加利用。
2-6. 为Star实体类增加如下属性：
2-6.1. position成员变量 – Position类型。
2-6.2. type成员变量 – StarType类型。
2-6.3. 为成员变量添加get与set访问器。
+ 提示：

1） Position类型类就是步骤2-3创建的类型，Position可以直观地描述泡泡糖的界面
坐标。
2） StarType类型就是步骤2-5创建枚举，界面根据StarType值显示泡泡糖的外观。
2-7. 为Position创建两个构造函数：
2-7.1. 创建两参构造函数，第一参row，第二参数column。
2-7.2. 通过两参构造函数对Position的成员变量赋值。
2-7.3. 创建0参构造函数，该构造函数无任何操作。
2-8. 为Star创建两个构造函数：
2-8.1. 创建两参构造函数，第一参Position，第二参数StarType。
2-8.2. 通过两参构造函数对Star的成员变量赋值。
2-8.3. 创建0参构造函数，要求实例化Position变量，type默认值为BLUE。
3、验证与测试： 
3-1. 定位：cn.campsg.practical.bubble.service. StarServiceImpl。
3-2. 找到：public StarList createStars()函数。
3-3. 编写以下测试语句：
3-1.1. 创建Star类的对象star1：
    1)  利用setPosition函数为Star赋值（0,0）位置坐标，使用Position构造函数赋值。
    2)  利用setType函数为Star复制泡泡糖类型：BLUE。
3-1.2. 创建Star类的对象star2：
    1)  star2的创建必须利用Star构造函数完成，不得使用任何set方法。
    2)   star2的数据为：（1,1）位置坐标，类型：GREEN。
3-3. 打印测试结果：
3-3.1. 利用Java打印语句分别显示star1和star2的属性值。
3-3.2. 运行项目，选择cn.campsg.practical.bubble.MainClass类。
3-3-3. 控制台输出结果与下图一致：

![图片5.png](http://www.csgmooc.com/ueditor/jsp/upload/image/20160316/1458182136440032009.png)

图 6-3